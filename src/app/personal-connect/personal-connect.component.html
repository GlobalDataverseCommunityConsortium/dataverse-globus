<div class="center">
<mat-form-field  *ngIf="personalConnectExist()" appearance="fill" >
    <mat-label>Personal connect endpoints</mat-label>
    <mat-select [(value)]="selectedEndPont" (selectionChange)="setSelectedEndpoint($event)" >
        <mat-option *ngFor="let endpoint of personalConnectEndpoints" [value]="endpoint">
            {{endpoint.display_name}}
        </mat-option>
    </mat-select>
</mat-form-field >
</div>
<div class="center">

<mat-form-field *ngIf="selectedDirectory!==null" appearance="fill">
    <mat-label>Directory</mat-label>
    <input type="search" matInput placeholder="Directory" value="{{selectedDirectory}}" (keydown.enter)="searchDirectory($event.target.value)" >
    <mat-icon matSuffix>search</mat-icon>
    <mat-hint>Search for Directory</mat-hint>
</mat-form-field>

</div>

<!--<div class="center" *ngIf="preparedForTransfer()"> -->
    <!--
<mat-selection-list #directory  (selectionChange)="onSelection($event, directory.selectedOptions)" >
    <mat-list-option class="mat-action-list" *ngFor="let item of personalDirectories" [value]="item">
        <div  (click)="checkBox($event, item)" (dblclick)="openDirectory($event, item)">
            {{item.name}}
        </div>
    </mat-list-option>
</mat-selection-list>
-->
<p></p>
<p></p>
<div  class="center" *ngIf="preparedForTransfer()" >


    <table >
        <td>
    <table >
        <tr>
            <th style="text-align:left">
                <mat-checkbox #check  [checked]="checkFlag" (change)="selectAll($event, directory)">Select All</mat-checkbox>
                <button mat-flat-button (click)="UpOneFolder()" >
                    <mat-icon matSuffix>subdirectory_arrow_left</mat-icon>
                    <span>Up one folder</span>
                </button>
            </th>
        </tr>
        <div class="table">
        <tr >
            <mat-selection-list #directory  [(ngModel)]="selectedOptions"  (selectionChange)="onSelection($event, directory.selectedOptions)" >

                <h3 matSubheader>Subdirectories and files</h3>
                <mat-list-option  *ngFor="let item of personalDirectories" [value]="item">
                    <a mat-list-item (click)="checkBox($event, item)" (dblclick)="openDirectory($event, item, directory, check)"> <span>{{item.name}}</span> </a>
                </mat-list-option>
            </mat-selection-list>
        </tr>
        </div>
    </table>
        </td>

        <td>
    <table>
        <tr>
            <th style="text-align:left">
                <button mat-flat-button color="accent" (click)="removeAllFromSelected(directory)">
                    Remove all from selected
                </button>
            </th>
        </tr>
        <div class="table">
        <tr>
            <mat-selection-list #varCol (selectionChange)="onRemoving($event, directory)">
                <h3 matSubheader>Selected files and folders</h3>
                <mat-list-option [value]='file' *ngFor="let file of selectedFiles" >
                    <a mat-list-item> <span>{{file.name}}</span></a>
                </mat-list-option>
            </mat-selection-list>
        </tr>
        </div>
    </table>
        </td>
        </table>
</div>
<p></p>
<!--<app-upload-file *ngIf="personalConnectExist()"></app-upload-file> -->
<div *ngIf="preparedForTransfer()" class="center">
  <button mat-raised-button color="primary" (click)="onSubmitTransfer()">Submit transfer</button>
</div>

